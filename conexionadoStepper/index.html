<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Motores paso a paso (stepper) - Rupertobot</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Rupertobot</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Introducción</a>
                            </li>
                            <li class="navitem">
                                <a href="../about/" class="nav-link">¿Quién soy?</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Archivos <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../cad/archivosCAD/" class="dropdown-item">Archivos en FreeCAD (modificables)</a>
</li>
                                    
<li>
    <a href="../STL/archivosSTL/" class="dropdown-item">Archivos STL (para imprimir en 3D)</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../montaje/" class="nav-link">Instrucciones de montaje</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Conexionado <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../alimentacion/" class="dropdown-item">Alimentación</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Motores paso a paso (stepper)</a>
</li>
                                    
<li>
    <a href="../conexionadoSensores/" class="dropdown-item">Sensores US e IR</a>
</li>
                                    
<li>
    <a href="../conexionadoZumbador/" class="dropdown-item">Zumbador</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Programacion <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../movimiento/" class="dropdown-item">Mover una rueda</a>
</li>
                                    
<li>
    <a href="../adelante/" class="dropdown-item">Hacia adelante</a>
</li>
                                    
<li>
    <a href="../atras/" class="dropdown-item">Hacia atras</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../alimentacion/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../conexionadoSensores/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#conexionado-steppers" class="nav-link">Conexionado steppers</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#principio-de-funcionamiento" class="nav-link">Principio de funcionamiento</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#conexionado" class="nav-link">Conexionado</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#ojo-a-la-alimentacion" class="nav-link">Ojo a la alimentación</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="conexionado-steppers">Conexionado steppers</h1>
<h2 id="principio-de-funcionamiento">Principio de funcionamiento</h2>
<p>Los motores paso a paso, steppers en su acepción más vulgar y anglosajona, se caracterizan por incorporar 4 bobinas a las que hay que ir excitando en el orden correcto. (La ilustración que sigue pertenece a la Wikipedia, generada por el usuario Teravolt).<br />
<a href="https://en.wikipedia.org/wiki/Stepper_motor" target="blank"><img src="../animaciones/animacionStepper.gif" alt="Animación de Wikipedia" class="center"><a><br />
Los motores que usamos son los 28BYJ-48, uno de los modelos más populares en el mundo maker. De potencia y velocidad no matan, pero para los objetivos educativos de Rupertobot tenemos hardware de sobra. Como decía, este modelo gira cada vez que excitamos una de sus bobinas (<em>dar un paso</em>) un total de unos 5.63 grados sexagesimales (lo que implica dar 64 pasos para lograr una vuelta completa).<br />
<img alt="" src="../img/stepperReal.jpg" /><br />
Por añadidura, el 28BYJ-48 incorpora un mecanismo reductor de 1/64, lo que vuelve a reducir 64 veces su avance, multiplicando por el mismo número, por lo tanto, su par motor. En total, estos motores precisan un total de 4096 pasos (repito, esto significa ir excitando cada una de sus cuatro bobinas en el orden adecuado) para dar una vuelta completa. Esto significa que cada paso implica un avance de 0.088º, lo que tendréis que aceptar que supone una precisión exquisita en un modelo tan baratito.<br />
En realidad, y atendiendo a <a href="https://www.luisllamas.es/motor-paso-paso-28byj-48-arduino-driver-uln2003/">la página de Luis Llamas</a> (y que os recomiendo visitéis; Luis es un referente en el mundo maker), el reductor no es tan preciso, y el número auténtico de pasos para una revolución completa es de <strong>4076</strong>, no 4096. Y, según mi experiencia, al final cada motor tiene sus propias características, según donde lo hayas comprado (yo me he encontrado motores con una relación de transmisión mucho más pequeña que han hecho salir disparado a mi escornabot, por ejemplo). Vamos, que al final tendrás que experimentar para encontrar el número adecuado.  </p>
<h2 id="conexionado">Conexionado</h2>
<p>Vamos a conectar las bobinas de los motores de la siguiente manera:  </p>
<table>
<thead>
<tr>
<th align="center"><strong>Motor derecho</strong></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>ENTRADA DRIVER</strong></td>
<td align="center"><strong>COLOR DE CABLE</strong></td>
<td align="center"><strong>PIN DE ARDUINO</strong></td>
</tr>
<tr>
<td align="center">IN1</td>
<td align="center">Azul</td>
<td align="center">5</td>
</tr>
<tr>
<td align="center">IN2</td>
<td align="center">Rosa</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">IN3</td>
<td align="center">Amarillo</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">IN4</td>
<td align="center">Naranja</td>
<td align="center">2</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th align="center"><strong>Motor izquierdo</strong></th>
<th align="center"></th>
<th align="center"></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>ENTRADA DRIVER</strong></td>
<td align="center"><strong>COLOR DE CABLE</strong></td>
<td align="center"><strong>PIN DE ARDUINO</strong></td>
</tr>
<tr>
<td align="center">IN1</td>
<td align="center">Azul</td>
<td align="center">6</td>
</tr>
<tr>
<td align="center">IN2</td>
<td align="center">Rosa</td>
<td align="center">7</td>
</tr>
<tr>
<td align="center">IN3</td>
<td align="center">Amarillo</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">IN4</td>
<td align="center">Naranja</td>
<td align="center">9</td>
</tr>
</tbody>
</table>
<p><strong>SPOILER</strong> Como ya te dije, nunca acabo de estar seguro del orden de conexión de los pines en los ULN2003. Normalmente, a mí me funciona así. No obstante, en cuanto empieces con tus primeras pruebas, si alguno de los motores funciona al revés, lo único que tienes que hacer es invertir el orden de estos cuatro cables. Sólo asegúrate de que <strong>los conectas en orden, seguidos</strong> (y a los mismos pines, sólo que al revés, claro).  </p>
<p>Aquí te dejo el esquema de conexión (repito, el que a mí me funciona en un principio):<br />
<img alt="Conexionado de los stepper" src="../img/conexionadoSteppers.jpg" />  </p>
<h2 id="ojo-a-la-alimentacion">Ojo a la alimentación</h2>
<p>Por razones de simplicidad, en el esquema anterior no he añadido la alimentación de ambos driver, que te he explicado en el apartado de <a href="../alimentacion/">Alimentación</a>. <strong>Pero tienes que alimentar ambos circuitos, como ya te he explicado, conectando las patillas marcadas con los signos - y + a la Arduino o al portapilas</strong>. De lo contrario, los motores no se moverán.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
